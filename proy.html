<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Escuela</title>
  </head>
  <body>
    <div class="container py-2">
      <p class="lead">Ingrese Usuario</p>
      <form>
        <input id="nombre" type="text" placeholder="Ingresa nombre" class="form-control my-2">
        <input id="apellido" type="text" placeholder="Ingresa apellido" class="form-control my-2">
        <input id="edad" type="text" placeholder="Ingresa edad" class="form-control my-2">
        <input  id="domicilio" type="text" placeholder="Ingresa domicilio" class="form-control my-2">
        <input id="grupo" type="text" placeholder="Ingresa Grupo" class="form-control my-2">
        <button id="buton" class="btn btn-success" type="reset" onclick="capturar();">Agregar</button>
      </form>
    </div>
    <div class="container">
      <table class="table" id="tabla">
        <thead class="thead-inverse">
          <tr>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Edad</th>
            <th>Domicilio</th>
            <th>Grupo</th>
            <th>Matricula</th>
            <th>Espa単ol</th>
            <th>Matematicas</th>
            <th>Fisica</th>
            <th>Ingles</th>
            <th>Geografia</th>
            <th>Promedio</th>
          </tr>
        </thead>
        <tbody><td></td><td></td><td></td><td></td><td></td><td></td></tbody>
      </table>
    </div>
  <script>
    //esta funcion captura los datos ingresaos en los input
    function capturar(){
      function Persona(nombre,apellido,edad,domicilio,grupo,){
        this.nombre=nombre;
        this.apellido=apellido;
        this.edad=edad;
        this.domicilio=domicilio;
        this.grupo=grupo;
      }
      // con estas nuevas bariables estamos trayendo el ID de los input, con el .getElementByID trae los ID de HTML a JS
      let nombreCapturar = document.getElementById("nombre").value;
      let apellidoCapturar = document.getElementById("apellido").value;
      let edadCapturar = document.getElementById("edad").value;
      let domicilioCapturar = document.getElementById("domicilio").value;
      let grupoCapturar = document.getElementById("grupo").value;

      //se crea un objeto
      nuevoSujeto = new Persona(nombreCapturar, apellidoCapturar, edadCapturar, domicilioCapturar, grupoCapturar);
      agregar();
    }
    
// esta funcion genera la matricula (ojo aun no sabemos como mostrarlos)
    function generarMatricula(nombre,apellido,edad,grupo){
  let nom = nombre.slice(0,2).toUpperCase();
  let ape = apellido.slice(0,2).toUpperCase();
  matricula = (nom+ape+edad+grupo);
  return matricula
};

//5 funciones para cada materia porque no sabemos como optimizar la funcion 100% real no fake
function califaEspa単ol(min, max) {
 max = 10
 min = 3
  esp = Math.round(Math.random() * (max - min) + min);
  return esp
};
function califaMatematicas(min, max) {
 max = 10
 min = 3
  mate = Math.round(Math.random() * (max - min) + min);
  return mate
};
function califaFisica(min, max) {
 max = 10
 min = 3
  fisc = Math.round(Math.random() * (max - min) + min);
  return fisc
};
function califaIngles(min, max) {
 max = 10
 min = 3
  ing = Math.round(Math.random() * (max - min) + min);
  return ing
};
function califaGeografia(min, max) {
 max = 10
 min = 7
  geo = Math.round(Math.random() * (max - min) + min);
  return geo
};

// funcion para el promedio

function promEdio(){
  promedio = (califaEspa単ol() + califaMatematicas() + califaFisica() + califaIngles() + califaGeografia())/5;
  return promedio
};

//esta funcion almacena y muestra los datos ingresados por el cliente de JS a HTML
    var baseDatos= [];
    function agregar(){
      baseDatos.push(nuevoSujeto);
      console.log(baseDatos);
      document.getElementById("tabla").innerHTML += '<tbody><td>'+nuevoSujeto.nombre+'</td><td>'+nuevoSujeto.apellido+'</td><td>'+nuevoSujeto.edad+'</td><td>'+nuevoSujeto.domicilio+'</td><td>'+nuevoSujeto.grupo+'</td><td>'+generarMatricula(nuevoSujeto.nombre,nuevoSujeto.apellido,nuevoSujeto.edad,nuevoSujeto.grupo)+'</td><td>'+califaEspa単ol(nuevoSujeto.min,nuevoSujeto.max)+'</td><td>'+califaMatematicas(nuevoSujeto.min,nuevoSujeto.max)+'</td><td>'+califaFisica(nuevoSujeto.min,nuevoSujeto.max)+'</td><td>'+califaIngles(nuevoSujeto.min,nuevoSujeto.max)+'</td><td>'+califaGeografia(nuevoSujeto.min,nuevoSujeto.max)+'</td><td>'+promEdio()+'</td></tbody>';
    };
  </script>

  </body>
</html>